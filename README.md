# Я хочу представить мою игру - Танки
## Цель игры: Уничтожить танки противника. 
## В игре также есть различные предметы ,которые могут повлиять на ход игры ,такие как каменные блоки, земля, вода и ящики с боеприпасами
# В игре есть множество кодов ,которые взаимодействуют с собой:
## 1. Код Units:
##   Классы:
### Базовый класс Unit:
#### Это базовый класс для всех игровых единиц. Реализованы следующие методы:

#### _create: Создает объект на холсте.
#### _damage: Наносит повреждение единице.
#### _destroy: Уничтожает объект, останавливая его движение.
#### _forward, backward, left, right: Устанавливают направление движения объекта.
#### _stop: Останавливает объект.
#### _update: Основной метод обновления состояния объекта каждую итерацию цикла.
#### _AI: Метод, реализующий поведение AI для ботов.
#### _update_hitbox: Обновляет координаты хитбокса.
#### _check_map_collision: Проверяет столкновение с картой.
#### _on_map_collision, _no_map_collision: Обработчики столкновения с картой.
#### _repaint: Перерисовывает объект на экране.
#### _undo_move: Отменяет последнее передвижение.
#### _change_orientation: Меняет ориентацию танка случайным образом.
### Класс Tank:
#### Наследуется от класса Unit. Добавлены специфические характеристики танков:
#### Возможность стрельбы (fire).
#### Методы управления боеприпасами (get_ammo, _take_ammo).
#### Специальные методы для взаимодействия с окружающей средой (_on_map_collision, _AI_fire).
#### Переопределены скорости передвижения по воде и земле.
#### Возможности смены направления и поведения AI.
### Класс Missile:
#### Также наследуется от Unit. Это ракета, запускаемая танком. Имеет особенности:
#### Определяет свое направление исходя из направления своего владельца (танка).
#### Способна разрушать кирпичные стены при столкновении.

   
## 2. Код Main:
###   Основные функции:
#### tank.py: Содержит определение класса Tank, представляющего танк (игрока или врага). Каждый танк имеет свои атрибуты вроде здоровья, брони, скорости и позиции.
#### world.py: Управляет игровой картой и визуальным интерфейсом, взаимодействием игрока с картой.
#### missile_collection.py: Хранит коллекцию выпущенных ракет, управляя их движением и столкновениями.
#### tanks_collection.py: Коллекция активных танков на карте, включая игрока и врагов.
#### texture.py: Используется для загрузки и хранения текстур (графики) для различных элементов игры.

## 3. Код textures:
### Основные функции:
#### 1. _load - используется для загрузки текстур в список _frames
#### 2. _get - используется для установки текстуры на объект

## 4. Код world:
### Основные функции:
#### 1. update_map(all=False)
#### Эта функция обновляет отображаемую часть карты на холсте Tkinter. Она проверяет, какая область находится в зоне видимости камеры, и перерисовывает соответствующие блоки. 
#### Если передан аргумент all=True, обновление производится для всей карты целиком.
#### Параметры:
#### all (опционально): Флаг, определяющий, обновить всю карту или только видимую часть.
#### 2. get_row(y) и get_col(x)
#### Эти вспомогательные функции преобразуют мировые координаты (X,Y) в индексы строк и столбцов матрицы карты.
#### 3. get_rows() и get_cols()
#### Возвращают общее число строк и столбцов в текущей карте.
#### 4. get_width() и get_height()
#### Вычисляют общую ширину и высоту карты в пикселях.
#### 5. create_map(rows=20, cols=20)
#### Генерирует игровую карту размером rows × cols. Внешний периметр карты автоматически заполняется блоками бетона, внутренние клетки случайно распределяют различные типы блоков.
#### 6. initialize(canvas)
#### Инициализирует игру, создавая карту и привязываясь к переданному холсту Tkinter.
#### 7. set_camera_xy(x, y)
#### Устанавливает позицию камеры на новые координаты (x,y), ограничивая выход за пределы игровой области.
#### 8. move_camera(dx, dy)
#### Перемещает камеру на указанные величины по оси X и Y.
#### 9. get_screen_x(world_x) и get_screen_y(world_y)
#### Преобразует мировые координаты в экранные, учитывающие сдвиг камеры.
#### 10. get_block(row, col)
#### Получает тип блока на указанных координатах.
#### 11. update_cell(row, col)
#### Обновляет ячейку на экране, если она изменилась визуально.
#### 12. destroy(row, col)
#### Разрушает указанный блок (например, превращает кирпич в землю), возвращая успех операции.
#### 13. take(row, col)
#### Извлекает блок (например, ракету) из указанной клетки, оставляя землю взамен.
#### 14. _inside_of_map(row, col)
#### Проверяет, находятся ли данные координаты внутри допустимых границ карты.

## 3. Код missile_collection:
### Основные функции:
#### 1. _initialize - Эта функция устанавливает связь с графическим интерфейсом Tkinter. Ей передается объект холста (canv), который далее используется для рендеринга ракет.
#### 2. fire - Функция создаёт новую ракету, передавая ей владельца (owner), и добавляет её в массив _missiles. Здесь подразумевается, что каждая ракета принадлежит какому-то игроку или юниту.
#### 2. update - Метод обрабатывает изменение состояния каждой активной ракеты. Сначала проверяется, была ли ракета уничтожена (is_destroyed()); если да, она удаляется из массива. Иначе вызывается метод update() самой ракеты, который отвечает за её передвижение и возможные события (например, столкновение).
#### 2. check_missiles_collision() - Функция проверяет столкновения каждой ракеты с указанным танком. Если обнаруживается столкновение, ракета уничтожается, а танк получает повреждение (в примере фиксированное значение 25 единиц урона).

## 3. Код hitbox:
### Основные функции:
#### 1. __init__ - Описание: Конструктор класса Hitbox. Он предназначен для задания начальных значений для нового объекта hitbox (области столкновения).
#### 2. set_blacklist() - Описание: Изменяет текущий черный список блоков, которые вызывают столкновение. Полезно, если нужно изменить условия столкновения в процессе игры.
#### 3. __get_corner_points(self) - Описание: Возвращает координаты четырех углов хита. Эти углы используются для дальнейших проверок столкновений с окружающим миром.
#### 4.check_map_collision(self, details) - Описание: Эта функция проверяет, столкнулся ли hitbox с каким-либо препятствием на карте. Она перебирает углы хита и проверяет тип блока, расположенного в соответствующих клетках карты. Если обнаружен блок из черного списка, фиксируется столкновение.
#### 5.moveto(self, x, y) - Описание: Перемещает hitbox в точку с новыми координатами 
#### 6.move(self, dx, dy) - Описание: Смещает hitbox относительно текущей позиции на Δx и Δy.
#### 7. intersects(self, other) - Описание: Проверяет, пересекаются ли два хита. Алгоритм основан на сравнении минимальных/максимальных координат обеих областей.

## 4. Код hitbox:
### Основные функции:
#### 1. __init__ - Описание: Конструктор класса Hitbox. Он предназначен для задания начальных значений для нового объекта hitbox (области столкновения).
#### 2. set_blacklist() - Описание: Изменяет текущий черный список блоков, которые вызывают столкновение. Полезно, если нужно изменить условия столкновения в процессе игры.
#### 3. __get_corner_points(self) - Описание: Возвращает координаты четырех углов хита. Эти углы используются для дальнейших проверок столкновений с окружающим миром.
#### 4.check_map_collision(self, details) - Описание: Эта функция проверяет, столкнулся ли hitbox с каким-либо препятствием на карте. Она перебирает углы хита и проверяет тип блока, расположенного в соответствующих клетках карты. Если обнаружен блок из черного списка, фиксируется столкновение.
#### 5.moveto(self, x, y) - Описание: Перемещает hitbox в точку с новыми координатами 
#### 6.move(self, dx, dy) - Описание: Смещает hitbox относительно текущей позиции на Δx и Δy.
#### 7. intersects(self, other) - Описание: Проверяет, пересекаются ли два хита. Алгоритм основан на сравнении минимальных/максимальных координат обеих областей.


